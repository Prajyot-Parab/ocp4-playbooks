apiVersion: v1
baseDomain: {{ install_config.cluster_domain }}
compute:
- hyperthreading: Enabled
  name: worker
  platform: {}
  replicas: 0
controlPlane:
  hyperthreading: Enabled
  name: master
  platform: {}
  replicas: {{ master_count }}
metadata:
  creationTimestamp: null
  name: {{ install_config.cluster_id }}
networking:
  clusterNetwork:
  - cidr: 10.128.0.0/14
    hostPrefix: 23
  networkType: OpenShiftSDN
  serviceNetwork:
  - 172.30.0.0/16
platform:
  none: {}
{% if use_local_registry %}
pullSecret: '{{ pull_secret | to_json }}'
sshKey: '{{ install_config.public_ssh_key }}'
additionalTrustBundle: |
{{ local_cert }}
imageContentSources:
- mirrors:
  - {{ local_registry }}/{{ local_registry_repo }}
  source: quay.io/openshift-release-dev/ocp-release-nightly
- mirrors:
  - {{ local_registry }}/{{ local_registry_repo }}
  source: quay.io/openshift-release-dev/ocp-v4.0-art-dev
{% else %}
pullSecret: '{{ install_config.pull_secret }}'
sshKey: '{{ install_config.public_ssh_key }}'
{% endif %}

